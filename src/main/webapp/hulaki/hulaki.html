<body>
<link data-lift="head" rel="stylesheet" type='text/css' href="/classpath/fobo/bootstrap.css"/>
<link data-lift="head" rel="stylesheet" type='text/css' href="/classpath/fobo/bootstrap-responsive.css"/>
<link data-lift="head" rel="stylesheet" href="/classpath/fobo/font-awesome.css">

<style>
	#request  { white-space: pre; font-family: monospace; font-size:12px ; color : green}
	#response { white-space: pre; font-family: monospace; font-size:11px ; color : blue}
</style>

<div id="fobo-main" class="lift:surround?with=libo/default;at=content">
  <h2 class="alt">Hulaki</h2>

    <form data-lift="form.ajax">
    <div data-lift="HulakiController">
        <span id="hidden"></span>
    <table>
        <tr><td>Module</td><td>        <input name="requestid" type="text" style='width:60em'/>       </td></tr>
        <tr><td>HTTP Request   </td>
            <td>
                <input name="request" id="request" type="text" style='width:60em'/>
                <input class="btn btn-primary" name="processreq" type="submit" value="Process Request"/>

            </td></tr>
	    <tr><td>Response </td><td>         
			    <textarea id="response" name="response" style="width: 840px; height: 450px;">
			    </textarea>
	    </td></tr>
    </table>
    <input class="btn btn-primary" name="submit" type="submit" value="Go"/> <br /> <br />
    </div>
    </form>
</div>

<script id="jquery" src="/classpath/jquery.js" type="text/javascript"></script>

<script type="text/javascript">
// <![CDATA[

    $('#response').on('change keyup paste', function() {
	console.log("[info] : response keyup")
         format();
    });

    function format(){
        var json = $( '#response' ).val()
        var j = JSON.stringify( JSON.parse(json) , null, 4)
        console.log("[info] : formattng json" + j)
        $('#response').html(j)
    };

    $(document).ready(function(){
        console.log("[info] : hulaki js is ready.")
   });

//]]>
</script>		    

</body>
